from kivy.app import App
from kivy.uix.button import Button
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.screenmanager import ScreenManager, Screen


class MainScreen(Screen):
   def __init__(self, **kwargs):
       super(MainScreen, self).__init__(**kwargs)
       layout = BoxLayout(orientation='vertical')
       button1 = Button(text='Екран 1')
       button1.bind(on_press=self.change_screen)
       layout.add_widget(button1)
       button2 = Button(text='Екран 2')
       button2.bind(on_press=self.change_screen)
       layout.add_widget(button2)
       button3 = Button(text='Екран 3')
       button3.bind(on_press=self.change_screen)
       layout.add_widget(button3)
       button4 = Button(text='Екран 4')
       button4.bind(on_press=self.change_screen)
       layout.add_widget(button4)
       self.add_widget(layout)

   def change_screen(self, instance):
       screen_name = instance.text
       self.manager.current = screen_name


class OtherScreen(Screen):
   def __init__(self, **kwargs):
       super(OtherScreen, self).__init__(**kwargs)
       layout = BoxLayout(orientation='vertical')
       button_back = Button(text='На головний екран')
       button_back.bind(on_press=self.back_to_main_screen)
       layout.add_widget(button_back)
       self.add_widget(layout)

   def back_to_main_screen(self, instance):
       self.manager.current = 'main'


class MyApp(App):
   def build(self):
       screen_manager = ScreenManager()
       main_screen = MainScreen(name='main')
       screen_manager.add_widget(main_screen)

       for i in range(1, 5):
           screen = OtherScreen(name=f'Екран {i}')
           screen_manager.add_widget(screen)

       return screen_manager


if __name__ == '__main__':
   MyApp().run()
